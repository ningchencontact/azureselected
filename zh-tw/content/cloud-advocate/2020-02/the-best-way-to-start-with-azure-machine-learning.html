<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>開始 Azure 機器學習的最佳方式 | Azure 中文精選</title>
    <meta name="description" content="Dmitry最近發現了一種如何更有效地開始使用Azure ML的方法。">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/favicon.ico">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.8970f8ee.css" as="style"><link rel="preload" href="/assets/js/app.fb3b2999.js" as="script"><link rel="preload" href="/assets/js/2.024090f7.js" as="script"><link rel="preload" href="/assets/js/49.3536b2f9.js" as="script"><link rel="preload" href="/assets/js/3.c99638c5.js" as="script"><link rel="preload" href="/assets/js/5.4abcb495.js" as="script"><link rel="prefetch" href="/assets/js/10.d4376054.js"><link rel="prefetch" href="/assets/js/11.3c480b26.js"><link rel="prefetch" href="/assets/js/12.4d5b00a1.js"><link rel="prefetch" href="/assets/js/13.16cff23e.js"><link rel="prefetch" href="/assets/js/14.9f348720.js"><link rel="prefetch" href="/assets/js/15.43d4be4a.js"><link rel="prefetch" href="/assets/js/16.ae99ec5f.js"><link rel="prefetch" href="/assets/js/17.46b98b5b.js"><link rel="prefetch" href="/assets/js/18.07b13469.js"><link rel="prefetch" href="/assets/js/19.c878029b.js"><link rel="prefetch" href="/assets/js/20.351cac07.js"><link rel="prefetch" href="/assets/js/21.0f2c9620.js"><link rel="prefetch" href="/assets/js/22.03488e84.js"><link rel="prefetch" href="/assets/js/23.fbb286fb.js"><link rel="prefetch" href="/assets/js/24.cc4f6b22.js"><link rel="prefetch" href="/assets/js/25.bdbf2c3d.js"><link rel="prefetch" href="/assets/js/26.0df3bfa0.js"><link rel="prefetch" href="/assets/js/27.b07de48d.js"><link rel="prefetch" href="/assets/js/28.64752660.js"><link rel="prefetch" href="/assets/js/29.9efb0a1f.js"><link rel="prefetch" href="/assets/js/30.f83bd00d.js"><link rel="prefetch" href="/assets/js/31.9fa29b4e.js"><link rel="prefetch" href="/assets/js/32.1a4afa56.js"><link rel="prefetch" href="/assets/js/33.a69297bf.js"><link rel="prefetch" href="/assets/js/34.6f38e77e.js"><link rel="prefetch" href="/assets/js/35.36e0befd.js"><link rel="prefetch" href="/assets/js/36.328c9bb8.js"><link rel="prefetch" href="/assets/js/37.00ad202f.js"><link rel="prefetch" href="/assets/js/38.a64c6fe2.js"><link rel="prefetch" href="/assets/js/39.2581a014.js"><link rel="prefetch" href="/assets/js/4.7306908c.js"><link rel="prefetch" href="/assets/js/40.a5bf28d8.js"><link rel="prefetch" href="/assets/js/41.581c0a90.js"><link rel="prefetch" href="/assets/js/42.cfaf4f7c.js"><link rel="prefetch" href="/assets/js/43.c90515f8.js"><link rel="prefetch" href="/assets/js/44.4b931fa0.js"><link rel="prefetch" href="/assets/js/45.d3d72e2b.js"><link rel="prefetch" href="/assets/js/46.dde52b5e.js"><link rel="prefetch" href="/assets/js/47.995bdee2.js"><link rel="prefetch" href="/assets/js/48.140de8a6.js"><link rel="prefetch" href="/assets/js/50.517bdd30.js"><link rel="prefetch" href="/assets/js/51.01dff938.js"><link rel="prefetch" href="/assets/js/52.8de3f659.js"><link rel="prefetch" href="/assets/js/53.74eac48a.js"><link rel="prefetch" href="/assets/js/6.7487709c.js"><link rel="prefetch" href="/assets/js/7.ca16cd2e.js"><link rel="prefetch" href="/assets/js/8.98289253.js"><link rel="prefetch" href="/assets/js/9.e0754485.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8970f8ee.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/zh-tw/" class="home-link router-link-active"><img src="/img/logo_azure.svg" alt="Azure 中文精選" class="logo"> <span class="site-name can-hide">Azure 中文精選</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/zh-tw/" class="nav-link">首頁</a></div><div class="nav-item"><a href="/zh-tw/content/" class="nav-link router-link-active">內容列表</a></div><div class="nav-item"><a href="/zh-tw/tags.html" class="nav-link">標籤</a></div><div class="nav-item"><a href="https://wj.qq.com/s2/5227985/7213/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  參加翻譯
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">語言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/content/cloud-advocate/2020-02/the-best-way-to-start-with-azure-machine-learning.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/zh-cn/content/cloud-advocate/2020-02/the-best-way-to-start-with-azure-machine-learning.html" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/zh-tw/content/cloud-advocate/2020-02/the-best-way-to-start-with-azure-machine-learning.html" class="nav-link router-link-exact-active router-link-active">繁體中文</a></li></ul></div></div> <a href="https://github.com/azureselected/azureselected" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/zh-tw/" class="nav-link">首頁</a></div><div class="nav-item"><a href="/zh-tw/content/" class="nav-link router-link-active">內容列表</a></div><div class="nav-item"><a href="/zh-tw/tags.html" class="nav-link">標籤</a></div><div class="nav-item"><a href="https://wj.qq.com/s2/5227985/7213/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  參加翻譯
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">語言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/content/cloud-advocate/2020-02/the-best-way-to-start-with-azure-machine-learning.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/zh-cn/content/cloud-advocate/2020-02/the-best-way-to-start-with-azure-machine-learning.html" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/zh-tw/content/cloud-advocate/2020-02/the-best-way-to-start-with-azure-machine-learning.html" class="nav-link router-link-exact-active router-link-active">繁體中文</a></li></ul></div></div> <a href="https://github.com/azureselected/azureselected" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>開始 Azure 機器學習的最佳方式</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh-tw/content/cloud-advocate/2020-02/the-best-way-to-start-with-azure-machine-learning.html#azure-ml-的工作區和門戶" class="sidebar-link">Azure ML 的工作區和門戶</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/zh-tw/content/cloud-advocate/2020-02/the-best-way-to-start-with-azure-machine-learning.html#mnist-訓練腳本" class="sidebar-link">MNIST 訓練腳本</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/zh-tw/content/cloud-advocate/2020-02/the-best-way-to-start-with-azure-machine-learning.html#在-azure-ml-中運行腳本" class="sidebar-link">在 Azure ML 中運行腳本</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/zh-tw/content/cloud-advocate/2020-02/the-best-way-to-start-with-azure-machine-learning.html#下一步是什麼？" class="sidebar-link">下一步是什麼？</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/zh-tw/content/cloud-advocate/2020-02/the-best-way-to-start-with-azure-machine-learning.html#有用的資源" class="sidebar-link">有用的資源</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="開始-azure-機器學習的最佳方式"><a href="#開始-azure-機器學習的最佳方式" class="header-anchor">#</a> 開始 Azure 機器學習的最佳方式</h1> <div class="content-meta"><hr> <p>原文： <a href="https://dev.to/azure/the-best-way-to-start-with-azure-machine-learning-17jl">https://dev.to/azure/the-best-way-to-start-with-azure-machine-learning-17jl</a></p> <p>作者： Dmitry Soshnikov | 1/27/2020</p> <p><span>翻譯： yanxiaodi </span> <span>| 審閱： shinyzhu </span> <span>| 2/12/2020</span></p> <div class="tags-head"><span><a href="/zh-tw/tags.html#Azure CLI">
      Azure CLI
    </a><a href="/zh-tw/tags.html#VS Code">
      VS Code
    </a><a href="/zh-tw/tags.html#Azure ML">
      Azure ML
    </a><a href="/zh-tw/tags.html#Azure">
      Azure
    </a></span></div> <hr></div> <p>我知道許多數據科學家，包括我自己，都通過 Jupyter Notebooks 或某些 Python IDE 在支持 GPU 的計算機上，包括本地或在雲中完成大部分工作。近兩年來，作為 AI/ML 軟件工程師，我正在做的事情是——在一台沒有 GPU 的機器上準備數據，然後在雲中使用 GPU 虛擬機做訓練。</p> <p>另一方面，您可能已經聽說過<a href="https://docs.microsoft.com/azure/machine-learning/?WT.mc_id=azureselected-content31-xinglzhu" target="_blank" rel="noopener noreferrer">Azure 機器學習<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>——一個特殊的用於機器學習的平台服務。但是，如果您開始尋找一些<a href="https://docs.microsoft.com/azure/machine-learning/tutorial-train-models-with-aml/?WT.mc_id=azureselected-content31-xinglzhu" target="_blank" rel="noopener noreferrer">入門教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，您將意識到，使用Azure 的ML 會創建很多不必要的開銷，並且這個過程不是很理想。例如，在前面提到的例子中訓練腳本是作為一個 Jupyter Cell 的文本文件創建的，沒有代碼補全，也沒有任何方便地在本地執行或調試的方式。這些額外的開銷也是我們並沒有在我們的項目中盡可能多的使用它的原因。</p> <p>不過，最近我發現有一個<a href="https://marketplace.visualstudio.com/items?itemName=ms-toolsai.vscode-ai&amp;WT.mc_id=azureselected-content31-xinglzhu#overview" target="_blank" rel="noopener noreferrer">Visual Studio Code Extension for Azure ML<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。有了這個擴展，您可以在 VS Code 中直接開發您的的訓練代碼，並在本地運行，然後將相同的代碼提交到集群上進行訓練，只需點擊幾下按鈕。這樣的方式有幾個重要的優勢：</p> <ul><li>您可以將大部分的時間花在本地機器上，並<strong>僅為訓練使用強大的GPU資源</strong>。訓練集群可以根據需求自動調整大小，通過將機器的最小量設置為0，可以根據需要調整 VM。</li> <li>您<strong>將訓練的所有結果</strong>維護在一個中心位置，包括指標和創建模型——沒有必要為手工為每個實驗保留精確度記錄。</li> <li>如果<strong>幾個人在同一項目上工作</strong>——他們可以使用同一個集群（所有實驗將進行排隊），並且可以查看彼此的實驗結果。例如，您可以使用<strong>教室環境中的 Azure ML</strong>，創建一個集群供所有人使用，而不是給每個學生創建一個單獨的 GPU 機器，並促進學生之間為模型精確度進行競爭。</li> <li>如果您需要進行大量訓練，例如用於<strong>超參數優化</strong>——所有這些可以通過幾個命令來完成，無需手動運行一系列的實驗。</li></ul> <p>我希望已經說服您來嘗試一下 Azure ML！下面是如何開始使用的最佳方式：</p> <ul><li>安裝<a href="http://code.visualstudio.com/?WT.mc_id=azureselected-content31-xinglzhu" target="_blank" rel="noopener noreferrer">Visual Studio Code<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.azure-account&amp;WT.mc_id=azureselected-content31-xinglzhu" target="_blank" rel="noopener noreferrer">Azure Sign In<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 和<a href="https://marketplace.visualstudio.com/items?itemName=ms-toolsai.vscode-ai&amp;WT.mc_id=azureselected-content31-xinglzhu#overview" target="_blank" rel="noopener noreferrer">Azure ML<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 擴展</li> <li>克隆庫 https://github.com/CloudAdvocacy/AzureMLStarter ——它包含了一些示例代碼來訓練識別 MNIST 數字模型。然後，您可以在 VS Code 中打開該克隆庫。</li> <li>繼續閱讀！</li></ul> <h2 id="azure-ml-的工作區和門戶"><a href="#azure-ml-的工作區和門戶" class="header-anchor">#</a> Azure ML 的工作區和門戶</h2> <p>Azure ML 中的一切都圍繞著一個<strong>工作區</strong>進行組織。這是您提交實驗、存儲數據和結果模型的中心位置。還有一個特殊的<a href="http://ml.azure.com/?WT.mc_id=azureselected-content31-xinglzhu" target="_blank" rel="noopener noreferrer"><strong>Azure ML Portal</strong><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，為您的工作區提供Web 界面，從這裡您可以執行很多操作，如監視您的實驗和指標等等。</p> <p>您可以通過<a href="https://portal.azure.com/?WT.mc_id=azureselected-content31-xinglzhu" target="_blank" rel="noopener noreferrer">Azure Portal<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 的Web 界面創建一個工作區（可參考<a href="https://docs.microsoft.com/azure/machine-learning/how-to-manage-workspace/?WT.mc_id=azureselected-content31-xinglzhu" target="_blank" rel="noopener noreferrer">步驟說明<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>），或使用Azure CLI（<a href="https://docs.microsoft.com/en-us/azure/machine-learning/how-to-manage-workspace-cli/?WT.mc_id=azureselected-content31-xinglzhu" target="_blank" rel="noopener noreferrer">介紹<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>）。</p> <div class="language- extra-class"><pre class="language-text"><code>az extension add -n azure-cli-ml
az group create -n myazml -l northeurope
az ml workspace create -w myworkspace -g myazml
</code></pre></div><p>工作區包含了一些<strong>計算</strong>資源。一旦您有了一個訓練腳本，可以<strong>提交實驗</strong>到工作區，並指定<strong>計算目標</strong>——這將確保實驗在指定的位置運行，並將實驗的所有結果存儲在工作區，以供將來參考。</p> <h2 id="mnist-訓練腳本"><a href="#mnist-訓練腳本" class="header-anchor">#</a> MNIST 訓練腳本</h2> <p>在我們的示例中，我們將展示如何使用 MNIST 數據集來解決非常<a href="https://www.kaggle.com/c/digit-recognizer" target="_blank" rel="noopener noreferrer">傳統的手寫數字識別問題<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。以同樣的方式，您將能夠運行其他任何訓練腳本。</p> <p>我們的樣本庫包含簡單的 MNIST 訓練腳本 <code>train_local.py</code>。這個腳本從 OpenML 下載 MNIST 數據集，然後使用 SKLearn <code>邏輯回歸</code> 訓練模型並打印結果精確度：</p> <div class="language- extra-class"><pre class="language-text"><code>mnist = fetch_openml('mnist_784')
mnist['target'] = np.array([int(x) for x in mnist['target']])

shuffle_index = np.random.permutation(len(mist['data']))
X, y = mnist['data'][shuffle_index], mnist['target'][shuffle_index]

X_train, X_test, y_train, y_test =
  train_test_split(X, y, test_size = 0.3, random_state = 42)

lr = LogisticRegression()
lr.fit(X_train, y_train)
y_hat = lr.predict(X_test)
acc = np.average(np.int32(y_hat == y_test))

print('Overall accuracy:', acc)
</code></pre></div><p>當然，我們使用邏輯回歸僅是為了作為示例，並不意味著這是解決這個問題的最好方式……</p> <h2 id="在-azure-ml-中運行腳本"><a href="#在-azure-ml-中運行腳本" class="header-anchor">#</a> 在 Azure ML 中運行腳本</h2> <p>您可以在本地運行此腳本並查看結果。然而，如果我們選擇使用 Azure ML，會給我們帶來兩大好處：</p> <ul><li>在集中式計算資源上調度和運行訓練，其性能通常比本地計算機更強大。 Azure ML 會使用合適的配置將腳本打包到 Docker 容器中。</li> <li>將訓練結果記錄到 Azure ML 工作區內的集中位置。要做到這一點，我們需要將下面的代碼添加到腳本中，用來記錄指標：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>from azureml.core.run import Run
...
try:
    run = Run.get_submitted_run()
    run.log('accuracy', acc)
except:
    pass
</code></pre></div><p>此腳本修改後的版本被稱為<code>train_universal.py</code>（它比上面呈現的代碼更複雜一些），它既可以在本地運行（不使用 Azure ML），也可以運行在遠程計算資源上。</p> <p>為了從 VS Code 中將其運行在 Azure ML 上，請遵循這些步驟：</p> <ol><li>確保您的 Azure 擴展連接到您的雲帳戶。選擇左側菜單的 Azure 圖標。如果您沒有連接，您會看到在右下角顯示一個通知以便您連接（<a href="https://habrastorage.org/webt/7b/ii/u6/7biiu6ktpygayub0ff17-u36om4.png" target="_blank" rel="noopener noreferrer">見圖<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>）。點擊它，並通過瀏覽器登錄。您也可以按下 <strong>Ctrl-Shift-P</strong>，將彈出命令面板，輸入 <strong>Azure Sign In</strong> 進行登錄。</li> <li>然後，您應該能夠在 Azure 欄部分的 <strong>MACHINE LEARNING</strong> 中看見您的工作區：
   <img src="https://res.cloudinary.com/practicaldev/image/fetch/s--db7R9m4s--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://habrastorage.org/webt/uf/yu/da/ufyudahlxeed3roay5yppqu_cwq.png" alt="VS Code 中的Azure ML 工作區">
   在這裡，您會看到工作區中的不同對象：計算資源，實驗等。</li> <li>回到文件列表，並用鼠標右鍵點擊 <code>train_universal.py</code> 並選擇 <strong>Azure ML: Run as experiment in Azure</strong>。
   <img src="https://res.cloudinary.com/practicaldev/image/fetch/s--GfBPAe07--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://habrastorage.org/webt/x7/i7/ex/x7i7exvh6uatgqqmhvtte9u89ae.png" alt="VS Code 中的Azure ML 工作區"></li> <li>確認您的Azure訂閱和您的工作區，然後選擇<strong>創建新實驗</strong>：
   <img src="https://res.cloudinary.com/practicaldev/image/fetch/s--yUX026iW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://habrastorage.org/webt/uq/p1/l1/uqp1l1mazrais_juw3zcfegnyds.png" alt="VS Code 中的Azure ML 工作區"> <img src="https://res.cloudinary.com/practicaldev/image/fetch/s--uYXYdSal--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://habrastorage.org/webt/hk/of/ff/hkofffhrmy-mapz-zybagzi5pj4.png" alt="VS Code 中的Azure ML 工作區"> <img src="https://res.cloudinary.com/practicaldev/image/fetch/s--uppA0zaX--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://habrastorage.org/webt/hd/nb/0c/hdnb0clmrgnq534iaktd20q8w2u.png" alt="Azure ML Workspace in VS Code"></li> <li>創建新的 <strong>Compute</strong> 和 <strong>compute configuration</strong>：
   - <strong>Compute</strong> 定義了用於訓練/推理的計算資源。您可以使用本地計算機或任何云資源。在我們的示例中，我們將使用 AmlCompute 集群。請建立 STANDARD_DS3_v2 機器的可擴展群集，節點配置為 min=0和max=4。您可以從 VS Code 中，或從<a href="http://ml.azure.com/?WT.mc_id=azureselected-content31-xinglzhu" target="_blank" rel="noopener noreferrer">ML 門戶<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中進行配置。 <img src="https://res.cloudinary.com/practicaldev/image/fetch/s---rv4Ptrh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://habrastorage.org/webt/az/qq/tt/azqqttrje6jx8nsepdycwtosh04.png" alt="VS Code 中的Azure ML 工作區">
   - <strong>Compute Configuration</strong> 定義遠程資源上創建的用於執行訓練的容器選項。特別是，它指定所有要安裝的庫。在我們的例子中，選擇 <em>SkLearn</em>，並確認庫列表。 <a href="https://res.cloudinary.com/practicaldev/image/fetch/s--jmmNby__--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://habrastorage.org/webt/0x/wv/u_/0xwvu_iu7tovivowbhmrbjkml2m.png" target="_blank" rel="noopener noreferrer">VS Code 中的Azure ML 工作區<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--FaXAgED7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://habrastorage.org/webt/fx/t-/hv/fxt-hvhaeanmz6_ztcoh1q5tc8u.png" alt="VS Code 中的Azure ML 工作區"></li> <li>然後您會看到一個窗口，顯示下一個實驗的 JSON 描述。您可以在其中編輯信息，例如改變實驗或集群名稱，並調整一些參數。當您準備好後，點擊 <strong>Submit Experiment</strong>：
   <img src="https://res.cloudinary.com/practicaldev/image/fetch/s--joFeivEz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://habrastorage.org/webt/vj/r0/6_/vjr06_o6idgburn_bs84xtau7qe.png" alt="Azure ML Workspace in VS Code"></li> <li>在VS Code 中成功提交實驗後，您會得到一個鏈接，指向<a href="http://ml.azure.com/?WT.mc_id=azureselected-content31-xinglzhu" target="_blank" rel="noopener noreferrer">Azure ML 門戶<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中的實驗進度和結果。
   <img src="https://res.cloudinary.com/practicaldev/image/fetch/s--2oWg9AGT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://habrastorage.org/webt/_2/dc/mg/_2dcmguwlzuegyt8feqtmy2fyfg.png" alt="Azure ML 門戶中的Azure ML 實驗結果">
   您還可以從<a href="http://ml.azure.com/?WT.mc_id=azureselected-content31-xinglzhu" target="_blank" rel="noopener noreferrer">Azure ML 門戶<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 中的<strong>Experiments</strong> 選項卡，或VS Code 中的<strong>Azure Machine Learning</strong> 欄找到您的實驗：
   <img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ZOptBzGn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://habrastorage.org/webt/sf/aj/zi/sfajzixi7onq59cbfgnjzq2ay7u.png" alt="VS Code 中的Azure ML 工作區"></li> <li>在您的代碼調整一些參數後，如果要再次運行實驗，這個過程會更快、更容易。用鼠標右鍵單擊您的訓練文件，您會看到一個新的菜單選項 <strong>Repeat last run</strong> ——只需選擇它，實驗將立即被提交。
   <img src="https://res.cloudinary.com/practicaldev/image/fetch/s--o_ITr5kJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://habrastorage.org/webt/uh/u0/vg/uhu0vgjdtifxczq6saeerxhsdys.png" alt="VS Code 中的Azure ML 工作區">
   然後，您將在 Azure ML 門戶中看到所有運行的指標結果，如上面的截圖所示。</li></ol> <p>現在您已了解，將運行提交到 Azure ML 並不復雜，而且一些功能（如從您的運行、模型等存儲所有的統計數據）是免費的。</p> <p>您可能已經註意到，對我們的示例來說，在集群上運行腳本所花費的時間比本地運行要長——它甚至可能需要幾分鐘。當然，還有一些開銷，如將腳本和所有環境打包到容器中，並將其發送到雲端。如果群集被設置為自動縮放到0節點——可能還會有一些額外的開銷，如虛擬機的啟動，並且當這個示例腳本小到僅需要幾秒鐘來執行的時候，這些開銷都是顯而易見的。然而，在現實的場景中，當訓練需要幾十分鐘，有時甚至更多的時候——這種開銷變得幾乎不再重要，尤其是對從集群中獲得的速度提升來說。</p> <h2 id="下一步是什麼？"><a href="#下一步是什麼？" class="header-anchor">#</a> 下一步是什麼？</h2> <p>現在您已經了解瞭如何將腳本提交到遠程群集上來執行，可以開始在您的日常工作中使用 Azure ML了。您可以在普通 PC 上開發腳本，然後在 GPU 虛擬機或集群上自動計劃執行，並在一個地方保存所有的結果。</p> <p>不過，使用 Azure ML 不僅僅只有這兩個優勢。 Azure ML 也可用於數據存儲和數據集處理——使用不同的訓練腳本來訪問相同的數據會更加方便。另外，您還可以通過 API 自動提交實驗、改變參數——從而進行一些超參數優化。此外，Azure ML 中內置的稱為<a href="https://docs.microsoft.com/azure/machine-learning/how-to-tune-hyperparameters/?WT.mc_id=azureselected-content31-xinglzhu" target="_blank" rel="noopener noreferrer"><strong>Hyperdrive</strong><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>的特定技術，能夠進行更聰明的超參數搜索。我將在下一篇文章中討論這些功能和技術。</p> <h2 id="有用的資源"><a href="#有用的資源" class="header-anchor">#</a> 有用的資源</h2> <p>如果您想了解更多信息，Microsoft Learn 提供的以下課程可能會很有用：</p> <ul><li><a href="https://docs.microsoft.com/learn/modules/intro-to-azure-machine-learning-service/?WT.mc_id=azureselected-content31-xinglzhu" target="_blank" rel="noopener noreferrer">Azure 機器學習服務介紹<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.microsoft.com/ru-ru/learn/paths/build-ai-solutions-with-azure-ml-service/?WT.mc_id=azureselected-content31-xinglzhu" target="_blank" rel="noopener noreferrer">使用Azure 機器學習服務構建AI 解決方案<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.microsoft.com/ru-ru/learn/modules/train-local-model-with-azure-mls/?WT.mc_id=azureselected-content31-xinglzhu" target="_blank" rel="noopener noreferrer">使用Azure 機器學習服務訓練本地模型<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/azureselected/azureselected/edit/master/zh-tw/content/cloud-advocate/2020-02/the-best-way-to-start-with-azure-machine-learning.md" target="_blank" rel="noopener noreferrer">在 GitHub 編輯本頁</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">最近更新於:</span> <span class="time">3/16/2020, 7:06:37 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.fb3b2999.js" defer></script><script src="/assets/js/2.024090f7.js" defer></script><script src="/assets/js/49.3536b2f9.js" defer></script><script src="/assets/js/3.c99638c5.js" defer></script><script src="/assets/js/5.4abcb495.js" defer></script>
  </body>
</html>
